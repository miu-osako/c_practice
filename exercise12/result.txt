$ make
gcc -Wall -Wextra -O2   -c -o practice12.o practice12.c
gcc -Wall -Wextra -O2 -o a.out practice12.o

$ ./a.out
usage: ./a.out filename
options: filename ファイル名

$ ./a.out practice12.c
0000000023 69 6E 63 6C 75 64 65 20 3C 73 74 64 69 6F 2E
0000001068 3E 0A 23 69 6E 63 6C 75 64 65 20 3C 73 74 64
000000206C 69 62 2E 68 3E 0A 0A 23 64 65 66 69 6E 65 20
0000003042 59 54 45 53 5F 48 45 58 20 31 36 20 2F 2A 31
0000004036 E9 80 B2 E6 95 B0 E8 A1 A8 E8 A8 98 2A 2F 0A
0000005023 64 65 66 69 6E 65 20 53 55 43 43 45 53 53 20
0000006030 20 2F 2A E6 AD A3 E5 B8 B8 E7 B5 82 E4 BA 86
000000702A 2F 0A 23 64 65 66 69 6E 65 20 46 41 49 4C 55
0000008052 45 20 31 20 2F 2A E7 95 B0 E5 B8 B8 E7 B5 82
00000090E4 BA 86 2A 2F 0A 0A 69 6E 74 20 6D 61 69 6E 28
000000a069 6E 74 20 61 72 67 63 2C 20 63 68 61 72 2A 20
000000b061 72 67 76 5B 5D 29 0A 7B 0A 09 75 6E 73 69 67
000000c06E 65 64 20 63 68 61 72 20 62 79 74 65 73 5B 42
000000d059 54 45 53 5F 48 45 58 5D 3B 0A 09 73 69 7A 65
000000e05F 74 20 69 3B 0A 09 46 49 4C 45 20 2A 66 70 3B
000000f00A 09 73 69 7A 65 5F 74 20 72 65 61 64 5F 73 69
000001007A 65 3B 0A 09 75 6E 73 69 67 6E 65 64 20 6C 6F
000001106E 67 20 41 44 44 52 45 53 53 20 3D 20 30 3B 0A
000001200A 09 69 66 20 28 61 72 67 63 20 21 3D 20 32 29
0000013020 7B 0A 09 09 66 70 72 69 6E 74 66 28 73 74 64
0000014065 72 72 2C 20 22 75 73 61 67 65 3A 20 25 73 20
0000015066 69 6C 65 6E 61 6D 65 5C 6E 22 0A 09 09 09 22
000001606F 70 74 69 6F 6E 73 3A 20 66 69 6C 65 6E 61 6D
0000017065 20 E3 83 95 E3 82 A1 E3 82 A4 E3 83 AB E5 90
000001808D 5C 6E 22 2C 0A 09 09 09 61 72 67 76 5B 30 5D
0000019029 3B 0A 09 09 72 65 74 75 72 6E 20 46 41 49 4C
000001a055 52 45 3B 0A 09 7D 0A 0A 09 66 70 20 3D 20 66
000001b06F 70 65 6E 28 61 72 67 76 5B 31 5D 2C 20 22 72
000001c062 22 29 3B 0A 09 69 66 20 28 66 70 20 3D 3D 20
000001d04E 55 4C 4C 29 20 7B 0A 09 09 70 65 72 72 6F 72
000001e028 22 65 72 72 6F 72 20 6F 70 65 6E 69 6E 67 20
000001f066 69 6C 65 5C 6E 22 29 3B 0A 09 09 72 65 74 75
0000020072 6E 20 46 41 49 4C 55 52 45 3B 0A 09 7D 0A 0A
0000021009 77 68 69 6C 65 20 28 28 72 65 61 64 5F 73 69
000002207A 65 20 3D 20 66 72 65 61 64 28 62 79 74 65 73
000002302C 20 73 69 7A 65 6F 66 28 75 6E 73 69 67 6E 65
0000024064 20 63 68 61 72 29 2C 20 0A 09 09 42 59 54 45
0000025053 5F 48 45 58 2C 20 66 70 29 29 20 3E 20 30 29
0000026020 7B 0A 09 09 70 72 69 6E 74 66 28 22 25 30 38
000002706C 78 22 2C 20 41 44 44 52 45 53 53 29 3B 0A 09
0000028009 66 6F 72 20 28 69 20 3D 20 30 3B 20 69 20 3C
0000029020 72 65 61 64 5F 73 69 7A 65 3B 20 69 2B 2B 29
000002a020 7B 0A 09 09 09 70 72 69 6E 74 66 28 22 25 30
000002b032 58 20 22 2C 20 62 79 74 65 73 5B 69 5D 29 3B
000002c00A 09 09 7D 0A 09 09 66 6F 72 20 28 69 20 3D 20
000002d030 3B 20 69 20 3C 20 42 59 54 45 53 5F 48 45 58
000002e03B 20 69 2B 2B 29 20 7B 0A 09 09 09 70 72 69 6E
000002f074 66 28 22 20 22 29 3B 0A 09 09 7D 0A 09 09 70
0000030072 69 6E 74 66 28 22 5C 6E 22 29 3B 0A 09 09 41
0000031044 44 52 45 53 53 20 2B 3D 20 42 59 54 45 53 5F
0000032048 45 58 3B 0A 09 7D 0A 0A 09 69 66 20 28 66 65
0000033072 72 6F 72 28 66 70 29 29 20 7B 0A 09 09 70 65
0000034072 72 6F 72 28 22 65 72 72 6F 72 20 72 65 61 64
0000035069 6E 67 20 66 69 6C 65 22 29 3B 0A 09 09 72 65
0000036074 75 72 6E 20 46 41 49 4C 55 52 45 3B 0A 09 7D
000003700A 0A 09 66 63 6C 6F 73 65 28 66 70 29 3B 0A 09
0000038072 65 74 75 72 6E 20 53 55 43 43 45 53 53 3B 0A
000003907D 0A

$ xxd practice12.c
00000000: 2369 6e63 6c75 6465 203c 7374 6469 6f2e  #include <stdio.
00000010: 683e 0a23 696e 636c 7564 6520 3c73 7464  h>.#include <std
00000020: 6c69 622e 683e 0a0a 2364 6566 696e 6520  lib.h>..#define
00000030: 4259 5445 535f 4845 5820 3136 202f 2a31  BYTES_HEX 16 /*1
00000040: 36e9 80b2 e695 b0e8 a1a8 e8a8 982a 2f0a  6............*/.
00000050: 2364 6566 696e 6520 5355 4343 4553 5320  #define SUCCESS
00000060: 3020 2f2a e6ad a3e5 b8b8 e7b5 82e4 ba86  0 /*............
00000070: 2a2f 0a23 6465 6669 6e65 2046 4149 4c55  */.#define FAILU
00000080: 5245 2031 202f 2ae7 95b0 e5b8 b8e7 b582  RE 1 /*.........
00000090: e4ba 862a 2f0a 0a69 6e74 206d 6169 6e28  ...*/..int main(
000000a0: 696e 7420 6172 6763 2c20 6368 6172 2a20  int argc, char*
000000b0: 6172 6776 5b5d 290a 7b0a 0975 6e73 6967  argv[]).{..unsig
000000c0: 6e65 6420 6368 6172 2062 7974 6573 5b42  ned char bytes[B
000000d0: 5954 4553 5f48 4558 5d3b 0a09 7369 7a65  YTES_HEX];..size
000000e0: 5f74 2069 3b0a 0946 494c 4520 2a66 703b  _t i;..FILE *fp;
000000f0: 0a09 7369 7a65 5f74 2072 6561 645f 7369  ..size_t read_si
00000100: 7a65 3b0a 0975 6e73 6967 6e65 6420 6c6f  ze;..unsigned lo
00000110: 6e67 2041 4444 5245 5353 203d 2030 3b0a  ng ADDRESS = 0;.
00000120: 0a09 6966 2028 6172 6763 2021 3d20 3229  ..if (argc != 2)
00000130: 207b 0a09 0966 7072 696e 7466 2873 7464   {...fprintf(std
00000140: 6572 722c 2022 7573 6167 653a 2025 7320  err, "usage: %s
00000150: 6669 6c65 6e61 6d65 5c6e 220a 0909 0922  filename\n"...."
00000160: 6f70 7469 6f6e 733a 2066 696c 656e 616d  options: filenam
00000170: 6520 e383 95e3 82a1 e382 a4e3 83ab e590  e ..............
00000180: 8d5c 6e22 2c0a 0909 0961 7267 765b 305d  .\n",....argv[0]
00000190: 293b 0a09 0972 6574 7572 6e20 4641 494c  );...return FAIL
000001a0: 5552 453b 0a09 7d0a 0a09 6670 203d 2066  URE;..}...fp = f
000001b0: 6f70 656e 2861 7267 765b 315d 2c20 2272  open(argv[1], "r
000001c0: 6222 293b 0a09 6966 2028 6670 203d 3d20  b");..if (fp ==
000001d0: 4e55 4c4c 2920 7b0a 0909 7065 7272 6f72  NULL) {...perror
000001e0: 2822 6572 726f 7220 6f70 656e 696e 6720  ("error opening
000001f0: 6669 6c65 5c6e 2229 3b0a 0909 7265 7475  file\n");...retu
00000200: 726e 2046 4149 4c55 5245 3b0a 097d 0a0a  rn FAILURE;..}..
00000210: 0977 6869 6c65 2028 2872 6561 645f 7369  .while ((read_si
00000220: 7a65 203d 2066 7265 6164 2862 7974 6573  ze = fread(bytes
00000230: 2c20 7369 7a65 6f66 2875 6e73 6967 6e65  , sizeof(unsigne
00000240: 6420 6368 6172 292c 200a 0909 4259 5445  d char), ...BYTE
00000250: 535f 4845 582c 2066 7029 2920 3e20 3029  S_HEX, fp)) > 0)
00000260: 207b 0a09 0970 7269 6e74 6628 2225 3038   {...printf("%08
00000270: 6c78 222c 2041 4444 5245 5353 293b 0a09  lx", ADDRESS);..
00000280: 0966 6f72 2028 6920 3d20 303b 2069 203c  .for (i = 0; i <
00000290: 2072 6561 645f 7369 7a65 3b20 692b 2b29   read_size; i++)
000002a0: 207b 0a09 0909 7072 696e 7466 2822 2530   {....printf("%0
000002b0: 3258 2022 2c20 6279 7465 735b 695d 293b  2X ", bytes[i]);
000002c0: 0a09 097d 0a09 0966 6f72 2028 6920 3d20  ...}...for (i =
000002d0: 303b 2069 203c 2042 5954 4553 5f48 4558  0; i < BYTES_HEX
000002e0: 3b20 692b 2b29 207b 0a09 0909 7072 696e  ; i++) {....prin
000002f0: 7466 2822 2022 293b 0a09 097d 0a09 0970  tf(" ");...}...p
00000300: 7269 6e74 6628 225c 6e22 293b 0a09 0941  rintf("\n");...A
00000310: 4444 5245 5353 202b 3d20 4259 5445 535f  DDRESS += BYTES_
00000320: 4845 583b 0a09 7d0a 0a09 6966 2028 6665  HEX;..}...if (fe
00000330: 7272 6f72 2866 7029 2920 7b0a 0909 7065  rror(fp)) {...pe
00000340: 7272 6f72 2822 6572 726f 7220 7265 6164  rror("error read
00000350: 696e 6720 6669 6c65 2229 3b0a 0909 7265  ing file");...re
00000360: 7475 726e 2046 4149 4c55 5245 3b0a 097d  turn FAILURE;..}
00000370: 0a0a 0966 636c 6f73 6528 6670 293b 0a09  ...fclose(fp);..
00000380: 7265 7475 726e 2053 5543 4345 5353 3b0a  return SUCCESS;.
00000390: 7d0a                                     }.
